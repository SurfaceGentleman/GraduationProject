#### 双人对战

1. 创建房间

2. 前端请求加入房间

3. 加入房间前先添加用户到列表

4. 后端返回前端用户列表

5. 双方准备

6. 将准备添加到用户列表中

7. 全部准备后开始答题

8. 后端发送题目至前端

9. 每题10s，答得越快，得分越高

10. 只要有用户对当前题目进行了作答，就上传至后端，用户可以知道自己答对与否，并且后端会将作答正确or错误，通告给房间的所有人，并显示实时比分

11. 当双方当前题目均作答完成时，就进入下一题

12. 直到最后，上传结果至服务器

13. 查看自己与对手的得分情况

    

### 状态码

- 100 发送聊天
- 101 用户加入房间
- 102 用户列表
- 103 有用户离开
- 200 准备
- 201 所有人已准备
- 210 组织者告知客户端获取题目数据
- 300 获取题目
- 301 提交作答
- 302 作答完成
- 402 自己答错
- 403 对方答错
- 401 双方均已作答
- 500 用户提交记录
- 501 组织者收到用户作答记录
- 502 用户收到排名通知

###  竞答流程

1. 组织者创建房间，设置密码，提交系统
2. 用户找到房间列表，输入密码进入房间
3. 按照赛制作答，打完后显示得分情况
4. 组织者可以看见所有人的得分情况
5. 用户保存时会保存测试记录
6. 组织者则不会保存

### 抢答

1. 由组织者判断用户抢答顺序，选取用户
2. 用户现场作答，由组织者判断正误，进行相应的+-分
3. 所有用户均可以看见哪位用户被+-分，并实时显示分数
4. 用户收到结束通知时，计算总分，结束作答
5. 该类型没有具体题目，均为组织者现场给分

##### 状态码

- 100 发送聊天

- 101 用户加入房间

- 102 用户列表

- 103 有用户离开

- 600 组织者发布抢答

- 601 有用户选择抢答，服务器响应抢答

- 602 ~~某用户抢答成功~~

- 603 有用户作答，组织者返回判断结果（携带说明信息）

- ~~604 结束本轮抢答~~

- 610 结束所有

- 611 用户得分（组织者收）

   

### 风险题

1. 与双人对战类似，可多人加入
2. 打错扣分，答对加分
3. 可以放弃，倒计时10s；

### 必答题
1. 与双人对战相同，可多人加入

   



### 匹配

- 连接特定socket后匹配到两个人之后，返回匹配池id，用户加入，然后按照必答题模式来进行
- 有一个用户数组，进来就存
- 请求匹配时，根据用户数组，每两个就成对返回，用户断开连接

### 状态码

- 101用户进入房间
- 102 用户列表
- 110 有用户请求匹配
- 200 向用户返回房间号
- 400 异常



### 客户端各页面的功能

- contest 必答题
- detail 单机作答详情
- end 单机作答结束页面
- event （未使用）
- home 题库页面
- index 房间列表
- login 用户登录
- question 错题本详情
- record 单机作答记录
- request （未使用）
- respond 抢答
- risk 风险题
- test 单机做题页面
- user_profile 用户信息页
- wrong 错题记录页面
- match 匹配页面
- match_contest 匹配竞答

